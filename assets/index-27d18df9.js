var Xn=Object.defineProperty;var qn=(n,r,a)=>r in n?Xn(n,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[r]=a;var Ge=(n,r,a)=>(qn(n,typeof r!="symbol"?r+"":r,a),a);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))s(v);new MutationObserver(v=>{for(const c of v)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function a(v){const c={};return v.integrity&&(c.integrity=v.integrity),v.referrerPolicy&&(c.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?c.credentials="include":v.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(v){if(v.ep)return;v.ep=!0;const c=a(v);fetch(v.href,c)}})();function J(){}function zt(n){return n()}function Dt(){return Object.create(null)}function fe(n){n.forEach(zt)}function Yt(n){return typeof n=="function"}function Le(n,r){return n!=n?r==r:n!==r||n&&typeof n=="object"||typeof n=="function"}function Jn(n){return Object.keys(n).length===0}function Wt(n,...r){if(n==null){for(const s of r)s(void 0);return J}const a=n.subscribe(...r);return a.unsubscribe?()=>a.unsubscribe():a}function Zn(n,r,a){n.$$.on_destroy.push(Wt(r,a))}function k(n,r){n.appendChild(r)}function ie(n,r,a){n.insertBefore(r,a||null)}function te(n){n.parentNode&&n.parentNode.removeChild(n)}function er(n,r){for(let a=0;a<n.length;a+=1)n[a]&&n[a].d(r)}function W(n){return document.createElement(n)}function Pe(n){return document.createTextNode(n)}function q(){return Pe(" ")}function we(n,r,a,s){return n.addEventListener(r,a,s),()=>n.removeEventListener(r,a,s)}function Xe(n,r,a){a==null?n.removeAttribute(r):n.getAttribute(r)!==a&&n.setAttribute(r,a)}function tr(n){return Array.from(n.childNodes)}function nr(n,r){r=""+r,n.data!==r&&(n.data=r)}function rr(n,r){r=""+r,n.wholeText!==r&&(n.data=r)}function or(n,r,{bubbles:a=!1,cancelable:s=!1}={}){return new CustomEvent(n,{detail:r,bubbles:a,cancelable:s})}let Ee;function be(n){Ee=n}function ir(){if(!Ee)throw new Error("Function called outside component initialization");return Ee}function ar(){const n=ir();return(r,a,{cancelable:s=!1}={})=>{const v=n.$$.callbacks[r];if(v){const c=or(r,a,{cancelable:s});return v.slice().forEach(l=>{l.call(n,c)}),!c.defaultPrevented}return!0}}const he=[],qe=[];let ve=[];const Je=[],ur=Promise.resolve();let Ze=!1;function fr(){Ze||(Ze=!0,ur.then(Vt))}function et(n){ve.push(n)}function sr(n){Je.push(n)}const He=new Set;let le=0;function Vt(){if(le!==0)return;const n=Ee;do{try{for(;le<he.length;){const r=he[le];le++,be(r),cr(r.$$)}}catch(r){throw he.length=0,le=0,r}for(be(null),he.length=0,le=0;qe.length;)qe.pop()();for(let r=0;r<ve.length;r+=1){const a=ve[r];He.has(a)||(He.add(a),a())}ve.length=0}while(he.length);for(;Je.length;)Je.pop()();Ze=!1,He.clear(),be(n)}function cr(n){if(n.fragment!==null){n.update(),fe(n.before_update);const r=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,r),n.after_update.forEach(et)}}function lr(n){const r=[],a=[];ve.forEach(s=>n.indexOf(s)===-1?r.push(s):a.push(s)),a.forEach(s=>s()),ve=r}const Ce=new Set;let ae;function De(){ae={r:0,c:[],p:ae}}function xe(){ae.r||fe(ae.c),ae=ae.p}function Q(n,r){n&&n.i&&(Ce.delete(n),n.i(r))}function X(n,r,a,s){if(n&&n.o){if(Ce.has(n))return;Ce.add(n),ae.c.push(()=>{Ce.delete(n),s&&(a&&n.d(1),s())}),n.o(r)}else s&&s()}function oe(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function tt(n,r){X(n,1,1,()=>{r.delete(n.key)})}function nt(n,r,a,s,v,c,l,p,_,I,O,d){let g=n.length,$=c.length,E=g;const D={};for(;E--;)D[n[E].key]=E;const C=[],z=new Map,x=new Map,j=[];for(E=$;E--;){const A=d(v,c,E),B=a(A);let R=l.get(B);R?s&&j.push(()=>R.p(A,r)):(R=I(B,A),R.c()),z.set(B,C[E]=R),B in D&&x.set(B,Math.abs(E-D[B]))}const K=new Set,S=new Set;function P(A){Q(A,1),A.m(p,O),l.set(A.key,A),O=A.first,$--}for(;g&&$;){const A=C[$-1],B=n[g-1],R=A.key,N=B.key;A===B?(O=A.first,g--,$--):z.has(N)?!l.has(R)||K.has(R)?P(A):S.has(N)?g--:x.get(R)>x.get(N)?(S.add(R),P(A)):(K.add(N),g--):(_(B,l),g--)}for(;g--;){const A=n[g];z.has(A.key)||_(A,l)}for(;$;)P(C[$-1]);return fe(j),C}function dr(n,r,a){const s=n.$$.props[r];s!==void 0&&(n.$$.bound[s]=a,a(n.$$.ctx[s]))}function Se(n){n&&n.c()}function pe(n,r,a){const{fragment:s,after_update:v}=n.$$;s&&s.m(r,a),et(()=>{const c=n.$$.on_mount.map(zt).filter(Yt);n.$$.on_destroy?n.$$.on_destroy.push(...c):fe(c),n.$$.on_mount=[]}),v.forEach(et)}function me(n,r){const a=n.$$;a.fragment!==null&&(lr(a.after_update),fe(a.on_destroy),a.fragment&&a.fragment.d(r),a.on_destroy=a.fragment=null,a.ctx=[])}function hr(n,r){n.$$.dirty[0]===-1&&(he.push(n),fr(),n.$$.dirty.fill(0)),n.$$.dirty[r/31|0]|=1<<r%31}function ot(n,r,a,s,v,c,l,p=[-1]){const _=Ee;be(n);const I=n.$$={fragment:null,ctx:[],props:c,update:J,not_equal:v,bound:Dt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(_?_.$$.context:[])),callbacks:Dt(),dirty:p,skip_bound:!1,root:r.target||_.$$.root};l&&l(I.root);let O=!1;if(I.ctx=a?a(n,r.props||{},(d,g,...$)=>{const E=$.length?$[0]:g;return I.ctx&&v(I.ctx[d],I.ctx[d]=E)&&(!I.skip_bound&&I.bound[d]&&I.bound[d](E),O&&hr(n,d)),g}):[],I.update(),O=!0,fe(I.before_update),I.fragment=s?s(I.ctx):!1,r.target){if(r.hydrate){const d=tr(r.target);I.fragment&&I.fragment.l(d),d.forEach(te)}else I.fragment&&I.fragment.c();r.intro&&Q(n.$$.fragment),pe(n,r.target,r.anchor),Vt()}be(_)}class it{constructor(){Ge(this,"$$");Ge(this,"$$set")}$destroy(){me(this,1),this.$destroy=J}$on(r,a){if(!Yt(a))return J;const s=this.$$.callbacks[r]||(this.$$.callbacks[r]=[]);return s.push(a),()=>{const v=s.indexOf(a);v!==-1&&s.splice(v,1)}}$set(r){this.$$set&&!Jn(r)&&(this.$$.skip_bound=!0,this.$$set(r),this.$$.skip_bound=!1)}}const vr="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(vr);var pr=globalThis&&globalThis.__spreadArray||function(n,r,a){if(a||arguments.length===2)for(var s=0,v=r.length,c;s<v;s++)(c||!(s in r))&&(c||(c=Array.prototype.slice.call(r,0,s)),c[s]=r[s]);return n.concat(c||Array.prototype.slice.call(r))};function at(n,r,a){var s=n.length-r.length,v=Array.from(r);if(s===0)return n.apply(void 0,v);if(s===1){var c=function(l){return n.apply(void 0,pr([l],v,!1))};return(a||n.lazy)&&(c.lazy=a||n.lazy,c.lazyArgs=r),c}throw new Error("Wrong number of arguments")}var jt=function(n){return function(r,a){var s=void 0,v=void 0;return r.forEach(function(c,l){var p=n?a(c,l,r):a(c);(v===void 0||p>v)&&(s=c,v=p)}),s}};function Oe(){return at(jt(!1),arguments)}(function(n){function r(){return at(jt(!0),arguments)}n.indexed=r})(Oe||(Oe={}));var ut=globalThis&&globalThis.__spreadArray||function(n,r,a){if(a||arguments.length===2)for(var s=0,v=r.length,c;s<v;s++)(c||!(s in r))&&(c||(c=Array.prototype.slice.call(r,0,s)),c[s]=r[s]);return n.concat(c||Array.prototype.slice.call(r))},mr=["asc","desc"],gr={asc:function(n,r){return n>r},desc:function(n,r){return n<r}};function Be(n){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];var s=_r(n)?[ut([n],r,!0)]:[n,r];return at(yr,s)}function _r(n){if(typeof n=="function")return!0;var r=n[0],a=n[1],s=n.slice(2);return s.length>0?!1:typeof r=="function"&&mr.indexOf(a)!==-1}var yr=function(n,r){return ut([],n,!0).sort(Kt.apply(void 0,r))};function Kt(n,r){for(var a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];var v=typeof n=="function"?n:n[0],c=typeof n=="function"?"asc":n[1],l=gr[c],p=r===void 0?void 0:Kt.apply(void 0,ut([r],a,!1));return function(_,I){var O,d=v(_),g=v(I);return l(d,g)?1:l(g,d)?-1:(O=p==null?void 0:p(_,I))!==null&&O!==void 0?O:0}}(function(n){n.strict=n})(Be||(Be={}));function br(n){let r,a=(n[0]??"")+"",s,v,c;return{c(){r=W("div"),s=Pe(a),Xe(r,"contenteditable","true")},m(l,p){ie(l,r,p),k(r,s),v||(c=we(r,"input",n[1]),v=!0)},p(l,[p]){p&1&&a!==(a=(l[0]??"")+"")&&rr(s,a)},i:J,o:J,d(l){l&&te(r),v=!1,c()}}}function wr(n,r,a){let{data:s}=r;const v=ar();function c(l){a(0,s=l.target.innerText),v("update",s)}return n.$$set=l=>{"data"in l&&a(0,s=l.data)},[s,c]}class Fe extends it{constructor(r){super(),ot(this,r,wr,br,Le,{data:0})}}function xt(n,r,a){const s=n.slice();return s[9]=r[a],s[10]=r,s[11]=a,s}function Ot(n,r,a){const s=n.slice();return s[12]=r[a],s[13]=r,s[14]=a,s}function Bt(n,r,a){const s=n.slice();return s[12]=r[a],s}function Lt(n,r){let a,s,v;function c(...l){return r[4](r[12],...l)}return s=new Fe({props:{data:r[12].label}}),s.$on("update",c),{key:n,first:null,c(){a=W("th"),Se(s.$$.fragment),this.first=a},m(l,p){ie(l,a,p),pe(s,a,null),v=!0},p(l,p){r=l;const _={};p&8&&(_.data=r[12].label),s.$set(_)},i(l){v||(Q(s.$$.fragment,l),v=!0)},o(l){X(s.$$.fragment,l),v=!1},d(l){l&&te(a),me(s)}}}function Pt(n,r){let a,s,v,c;function l(_){r[7](_,r[9],r[12])}let p={};return r[1].cells[`${r[9].id}_${r[12].id}`]!==void 0&&(p.data=r[1].cells[`${r[9].id}_${r[12].id}`]),s=new Fe({props:p}),qe.push(()=>dr(s,"data",l)),{key:n,first:null,c(){a=W("td"),Se(s.$$.fragment),this.first=a},m(_,I){ie(_,a,I),pe(s,a,null),c=!0},p(_,I){r=_;const O={};!v&&I&14&&(v=!0,O.data=r[1].cells[`${r[9].id}_${r[12].id}`],sr(()=>v=!1)),s.$set(O)},i(_){c||(Q(s.$$.fragment,_),c=!0)},o(_){X(s.$$.fragment,_),c=!1},d(_){_&&te(a),me(s)}}}function Ft(n,r){let a,s,v,c,l=[],p=new Map,_;function I(...g){return r[6](r[9],...g)}v=new Fe({props:{data:r[9].label}}),v.$on("update",I);let O=oe(r[3]);const d=g=>`${g[9].id}_${g[12].id}`;for(let g=0;g<O.length;g+=1){let $=Ot(r,O,g),E=d($);p.set(E,l[g]=Pt(E,$))}return{key:n,first:null,c(){a=W("tr"),s=W("td"),Se(v.$$.fragment),c=q();for(let g=0;g<l.length;g+=1)l[g].c();this.first=a},m(g,$){ie(g,a,$),k(a,s),pe(v,s,null),k(a,c);for(let E=0;E<l.length;E+=1)l[E]&&l[E].m(a,null);_=!0},p(g,$){r=g;const E={};$&4&&(E.data=r[9].label),v.$set(E),$&14&&(O=oe(r[3]),De(),l=nt(l,$,d,1,r,O,p,a,tt,Pt,null,Ot),xe())},i(g){if(!_){Q(v.$$.fragment,g);for(let $=0;$<O.length;$+=1)Q(l[$]);_=!0}},o(g){X(v.$$.fragment,g);for(let $=0;$<l.length;$+=1)X(l[$]);_=!1},d(g){g&&te(a),me(v);for(let $=0;$<l.length;$+=1)l[$].d()}}}function Er(n){let r,a,s,v,c=[],l=new Map,p,_,I,O,d=[],g=new Map,$,E,D,C,z,x,j,K,S=oe(n[3]);const P=R=>R[12].id;for(let R=0;R<S.length;R+=1){let N=Bt(n,S,R),U=P(N);l.set(U,c[R]=Lt(U,N))}let A=oe(n[2]);const B=R=>R[9].id;for(let R=0;R<A.length;R+=1){let N=xt(n,A,R),U=B(N);g.set(U,d[R]=Ft(U,N))}return{c(){r=W("table"),a=W("tr"),s=W("td"),v=q();for(let R=0;R<c.length;R+=1)c[R].c();p=q(),_=W("td"),I=W("button"),I.textContent="New Column",O=q();for(let R=0;R<d.length;R+=1)d[R].c();$=q(),E=W("tr"),D=W("td"),C=W("button"),C.textContent="New Row",Xe(D,"colspan",z=n[1].columns.length+1)},m(R,N){ie(R,r,N),k(r,a),k(a,s),k(a,v);for(let U=0;U<c.length;U+=1)c[U]&&c[U].m(a,null);k(a,p),k(a,_),k(_,I),k(r,O);for(let U=0;U<d.length;U+=1)d[U]&&d[U].m(r,null);k(r,$),k(r,E),k(E,D),k(D,C),x=!0,j||(K=[we(I,"click",n[5]),we(C,"click",n[8])],j=!0)},p(R,[N]){N&9&&(S=oe(R[3]),De(),c=nt(c,N,P,1,R,S,l,a,tt,Lt,p,Bt),xe()),N&15&&(A=oe(R[2]),De(),d=nt(d,N,B,1,R,A,g,r,tt,Ft,$,xt),xe()),(!x||N&2&&z!==(z=R[1].columns.length+1))&&Xe(D,"colspan",z)},i(R){if(!x){for(let N=0;N<S.length;N+=1)Q(c[N]);for(let N=0;N<A.length;N+=1)Q(d[N]);x=!0}},o(R){for(let N=0;N<c.length;N+=1)X(c[N]);for(let N=0;N<d.length;N+=1)X(d[N]);x=!1},d(R){R&&te(r);for(let N=0;N<c.length;N+=1)c[N].d();for(let N=0;N<d.length;N+=1)d[N].d();j=!1,fe(K)}}}function Sr(n,r,a){let s,v,c,l=J,p=()=>(l(),l=Wt(_,E=>a(1,c=E)),_);n.$$.on_destroy.push(()=>l());let{tableContextState:_}=r;p();const I=(E,D)=>{_.editColumn(E.id,D.detail)},O=()=>_.addColumn(),d=(E,D)=>_.editRow(E.id,D.detail);function g(E,D,C){n.$$.not_equal(c.cells[`${D.id}_${C.id}`],E)&&(c.cells[`${D.id}_${C.id}`]=E,_.set(c))}const $=()=>_.addRow();return n.$$set=E=>{"tableContextState"in E&&p(a(0,_=E.tableContextState))},n.$$.update=()=>{n.$$.dirty&2&&a(3,s=Be(c.columns,E=>E.order)),n.$$.dirty&2&&a(2,v=Be(c.rows,E=>E.order))},[_,c,v,s,I,O,d,g,$]}class Ir extends it{constructor(r){super(),ot(this,r,Sr,Er,Le,{tableContextState:0})}}const de=[];function Qt(n,r=J){let a;const s=new Set;function v(p){if(Le(n,p)&&(n=p,a)){const _=!de.length;for(const I of s)I[1](),de.push(I,n);if(_){for(let I=0;I<de.length;I+=2)de[I][0](de[I+1]);de.length=0}}}function c(p){v(p(n))}function l(p,_=J){const I=[p,_];return s.add(I),s.size===1&&(a=r(v,c)||J),p(n),()=>{s.delete(I),s.size===0&&a&&(a(),a=null)}}return{set:v,update:c,subscribe:l}}let rt=(n=21)=>crypto.getRandomValues(new Uint8Array(n)).reduce((r,a)=>(a&=63,a<36?r+=a.toString(36):a<62?r+=(a-26).toString(36).toUpperCase():a>62?r+="-":r+="_",r),"");function $r(n){const{subscribe:r,set:a,update:s}=Qt(n??{columns:[],rows:[],cells:{}});return{subscribe:r,set:a,update:s,addColumn:v=>s(c=>{var p;const l=((p=Oe(c.columns,_=>_.order))==null?void 0:p.order)??0;return c.columns.push({order:l+1,id:rt(),label:v??`Column ${l+1}`}),c}),editColumn:(v,c)=>s(l=>{const p=l.columns.find(_=>_.id===v);return p.label=c,l}),removeColumn:v=>s(c=>{const l=c.columns.findIndex(p=>p.id===v);return c.columns.splice(l,1),c}),addRow:v=>s(c=>{var p;const l=((p=Oe(c.rows,_=>_.order))==null?void 0:p.order)??0;return c.rows.push({order:l+1,id:rt(),label:v??`Row ${l+1}`}),c}),removeRow:v=>s(c=>{const l=c.rows.findIndex(p=>p.id===v);return c.rows.splice(l,1),c}),editRow:(v,c)=>s(l=>{const p=l.rows.find(_=>_.id===v);return p.label=c,l})}}var Te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ne(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Gt={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(n,r){(function(a){n.exports=a()})(function(){return function a(s,v,c){function l(I,O){if(!v[I]){if(!s[I]){var d=typeof Ne=="function"&&Ne;if(!O&&d)return d(I,!0);if(p)return p(I,!0);var g=new Error("Cannot find module '"+I+"'");throw g.code="MODULE_NOT_FOUND",g}var $=v[I]={exports:{}};s[I][0].call($.exports,function(E){var D=s[I][1][E];return l(D||E)},$,$.exports,a,s,v,c)}return v[I].exports}for(var p=typeof Ne=="function"&&Ne,_=0;_<c.length;_++)l(c[_]);return l}({1:[function(a,s,v){(function(c){var l=c.MutationObserver||c.WebKitMutationObserver,p;if(l){var _=0,I=new l(E),O=c.document.createTextNode("");I.observe(O,{characterData:!0}),p=function(){O.data=_=++_%2}}else if(!c.setImmediate&&typeof c.MessageChannel<"u"){var d=new c.MessageChannel;d.port1.onmessage=E,p=function(){d.port2.postMessage(0)}}else"document"in c&&"onreadystatechange"in c.document.createElement("script")?p=function(){var C=c.document.createElement("script");C.onreadystatechange=function(){E(),C.onreadystatechange=null,C.parentNode.removeChild(C),C=null},c.document.documentElement.appendChild(C)}:p=function(){setTimeout(E,0)};var g,$=[];function E(){g=!0;for(var C,z,x=$.length;x;){for(z=$,$=[],C=-1;++C<x;)z[C]();x=$.length}g=!1}s.exports=D;function D(C){$.push(C)===1&&!g&&p()}}).call(this,typeof Te<"u"?Te:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(a,s,v){var c=a(1);function l(){}var p={},_=["REJECTED"],I=["FULFILLED"],O=["PENDING"];s.exports=d;function d(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=O,this.queue=[],this.outcome=void 0,S!==l&&D(this,S)}d.prototype.catch=function(S){return this.then(null,S)},d.prototype.then=function(S,P){if(typeof S!="function"&&this.state===I||typeof P!="function"&&this.state===_)return this;var A=new this.constructor(l);if(this.state!==O){var B=this.state===I?S:P;$(A,B,this.outcome)}else this.queue.push(new g(A,S,P));return A};function g(S,P,A){this.promise=S,typeof P=="function"&&(this.onFulfilled=P,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}g.prototype.callFulfilled=function(S){p.resolve(this.promise,S)},g.prototype.otherCallFulfilled=function(S){$(this.promise,this.onFulfilled,S)},g.prototype.callRejected=function(S){p.reject(this.promise,S)},g.prototype.otherCallRejected=function(S){$(this.promise,this.onRejected,S)};function $(S,P,A){c(function(){var B;try{B=P(A)}catch(R){return p.reject(S,R)}B===S?p.reject(S,new TypeError("Cannot resolve promise with itself")):p.resolve(S,B)})}p.resolve=function(S,P){var A=C(E,P);if(A.status==="error")return p.reject(S,A.value);var B=A.value;if(B)D(S,B);else{S.state=I,S.outcome=P;for(var R=-1,N=S.queue.length;++R<N;)S.queue[R].callFulfilled(P)}return S},p.reject=function(S,P){S.state=_,S.outcome=P;for(var A=-1,B=S.queue.length;++A<B;)S.queue[A].callRejected(P);return S};function E(S){var P=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof P=="function")return function(){P.apply(S,arguments)}}function D(S,P){var A=!1;function B(G){A||(A=!0,p.reject(S,G))}function R(G){A||(A=!0,p.resolve(S,G))}function N(){P(R,B)}var U=C(N);U.status==="error"&&B(U.value)}function C(S,P){var A={};try{A.value=S(P),A.status="success"}catch(B){A.status="error",A.value=B}return A}d.resolve=z;function z(S){return S instanceof this?S:p.resolve(new this(l),S)}d.reject=x;function x(S){var P=new this(l);return p.reject(P,S)}d.all=j;function j(S){var P=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=S.length,B=!1;if(!A)return this.resolve([]);for(var R=new Array(A),N=0,U=-1,G=new this(l);++U<A;)Z(S[U],U);return G;function Z(ge,$e){P.resolve(ge).then(Me,function(se){B||(B=!0,p.reject(G,se))});function Me(se){R[$e]=se,++N===A&&!B&&(B=!0,p.resolve(G,R))}}}d.race=K;function K(S){var P=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=S.length,B=!1;if(!A)return this.resolve([]);for(var R=-1,N=new this(l);++R<A;)U(S[R]);return N;function U(G){P.resolve(G).then(function(Z){B||(B=!0,p.resolve(N,Z))},function(Z){B||(B=!0,p.reject(N,Z))})}}},{1:1}],3:[function(a,s,v){(function(c){typeof c.Promise!="function"&&(c.Promise=a(2))}).call(this,typeof Te<"u"?Te:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(a,s,v){var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function l(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function p(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var _=p();function I(){try{if(!_||!_.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),o=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||o)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function O(e,o){e=e||[],o=o||{};try{return new Blob(e,o)}catch(i){if(i.name!=="TypeError")throw i;for(var t=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,u=new t,f=0;f<e.length;f+=1)u.append(e[f]);return u.getBlob(o.type)}}typeof Promise>"u"&&a(3);var d=Promise;function g(e,o){o&&e.then(function(t){o(null,t)},function(t){o(t)})}function $(e,o,t){typeof o=="function"&&e.then(o),typeof t=="function"&&e.catch(t)}function E(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function D(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var C="local-forage-detect-blob-support",z=void 0,x={},j=Object.prototype.toString,K="readonly",S="readwrite";function P(e){for(var o=e.length,t=new ArrayBuffer(o),u=new Uint8Array(t),f=0;f<o;f++)u[f]=e.charCodeAt(f);return t}function A(e){return new d(function(o){var t=e.transaction(C,S),u=O([""]);t.objectStore(C).put(u,"key"),t.onabort=function(f){f.preventDefault(),f.stopPropagation(),o(!1)},t.oncomplete=function(){var f=navigator.userAgent.match(/Chrome\/(\d+)/),i=navigator.userAgent.match(/Edge\//);o(i||!f||parseInt(f[1],10)>=43)}}).catch(function(){return!1})}function B(e){return typeof z=="boolean"?d.resolve(z):A(e).then(function(o){return z=o,z})}function R(e){var o=x[e.name],t={};t.promise=new d(function(u,f){t.resolve=u,t.reject=f}),o.deferredOperations.push(t),o.dbReady?o.dbReady=o.dbReady.then(function(){return t.promise}):o.dbReady=t.promise}function N(e){var o=x[e.name],t=o.deferredOperations.pop();if(t)return t.resolve(),t.promise}function U(e,o){var t=x[e.name],u=t.deferredOperations.pop();if(u)return u.reject(o),u.promise}function G(e,o){return new d(function(t,u){if(x[e.name]=x[e.name]||lt(),e.db)if(o)R(e),e.db.close();else return t(e.db);var f=[e.name];o&&f.push(e.version);var i=_.open.apply(_,f);o&&(i.onupgradeneeded=function(h){var m=i.result;try{m.createObjectStore(e.storeName),h.oldVersion<=1&&m.createObjectStore(C)}catch(y){if(y.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+h.oldVersion+" to version "+h.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw y}}),i.onerror=function(h){h.preventDefault(),u(i.error)},i.onsuccess=function(){var h=i.result;h.onversionchange=function(m){m.target.close()},t(h),N(e)}})}function Z(e){return G(e,!1)}function ge(e){return G(e,!0)}function $e(e,o){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),u=e.version<e.db.version,f=e.version>e.db.version;if(u&&(e.version!==o&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),f||t){if(t){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function Me(e){return new d(function(o,t){var u=new FileReader;u.onerror=t,u.onloadend=function(f){var i=btoa(f.target.result||"");o({__local_forage_encoded_blob:!0,data:i,type:e.type})},u.readAsBinaryString(e)})}function se(e){var o=P(atob(e.data));return O([o],{type:e.type})}function ct(e){return e&&e.__local_forage_encoded_blob}function Xt(e){var o=this,t=o._initReady().then(function(){var u=x[o._dbInfo.name];if(u&&u.dbReady)return u.dbReady});return $(t,e,e),t}function qt(e){R(e);for(var o=x[e.name],t=o.forages,u=0;u<t.length;u++){var f=t[u];f._dbInfo.db&&(f._dbInfo.db.close(),f._dbInfo.db=null)}return e.db=null,Z(e).then(function(i){return e.db=i,$e(e)?ge(e):i}).then(function(i){e.db=o.db=i;for(var h=0;h<t.length;h++)t[h]._dbInfo.db=i}).catch(function(i){throw U(e,i),i})}function ee(e,o,t,u){u===void 0&&(u=1);try{var f=e.db.transaction(e.storeName,o);t(null,f)}catch(i){if(u>0&&(!e.db||i.name==="InvalidStateError"||i.name==="NotFoundError"))return d.resolve().then(function(){if(!e.db||i.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),ge(e)}).then(function(){return qt(e).then(function(){ee(e,o,t,u-1)})}).catch(t);t(i)}}function lt(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Jt(e){var o=this,t={db:null};if(e)for(var u in e)t[u]=e[u];var f=x[t.name];f||(f=lt(),x[t.name]=f),f.forages.push(o),o._initReady||(o._initReady=o.ready,o.ready=Xt);var i=[];function h(){return d.resolve()}for(var m=0;m<f.forages.length;m++){var y=f.forages[m];y!==o&&i.push(y._initReady().catch(h))}var b=f.forages.slice(0);return d.all(i).then(function(){return t.db=f.db,Z(t)}).then(function(w){return t.db=w,$e(t,o._defaultConfig.version)?ge(t):w}).then(function(w){t.db=f.db=w,o._dbInfo=t;for(var T=0;T<b.length;T++){var L=b[T];L!==o&&(L._dbInfo.db=t.db,L._dbInfo.version=t.version)}})}function Zt(e,o){var t=this;e=E(e);var u=new d(function(f,i){t.ready().then(function(){ee(t._dbInfo,K,function(h,m){if(h)return i(h);try{var y=m.objectStore(t._dbInfo.storeName),b=y.get(e);b.onsuccess=function(){var w=b.result;w===void 0&&(w=null),ct(w)&&(w=se(w)),f(w)},b.onerror=function(){i(b.error)}}catch(w){i(w)}})}).catch(i)});return g(u,o),u}function en(e,o){var t=this,u=new d(function(f,i){t.ready().then(function(){ee(t._dbInfo,K,function(h,m){if(h)return i(h);try{var y=m.objectStore(t._dbInfo.storeName),b=y.openCursor(),w=1;b.onsuccess=function(){var T=b.result;if(T){var L=T.value;ct(L)&&(L=se(L));var F=e(L,T.key,w++);F!==void 0?f(F):T.continue()}else f()},b.onerror=function(){i(b.error)}}catch(T){i(T)}})}).catch(i)});return g(u,o),u}function tn(e,o,t){var u=this;e=E(e);var f=new d(function(i,h){var m;u.ready().then(function(){return m=u._dbInfo,j.call(o)==="[object Blob]"?B(m.db).then(function(y){return y?o:Me(o)}):o}).then(function(y){ee(u._dbInfo,S,function(b,w){if(b)return h(b);try{var T=w.objectStore(u._dbInfo.storeName);y===null&&(y=void 0);var L=T.put(y,e);w.oncomplete=function(){y===void 0&&(y=null),i(y)},w.onabort=w.onerror=function(){var F=L.error?L.error:L.transaction.error;h(F)}}catch(F){h(F)}})}).catch(h)});return g(f,t),f}function nn(e,o){var t=this;e=E(e);var u=new d(function(f,i){t.ready().then(function(){ee(t._dbInfo,S,function(h,m){if(h)return i(h);try{var y=m.objectStore(t._dbInfo.storeName),b=y.delete(e);m.oncomplete=function(){f()},m.onerror=function(){i(b.error)},m.onabort=function(){var w=b.error?b.error:b.transaction.error;i(w)}}catch(w){i(w)}})}).catch(i)});return g(u,o),u}function rn(e){var o=this,t=new d(function(u,f){o.ready().then(function(){ee(o._dbInfo,S,function(i,h){if(i)return f(i);try{var m=h.objectStore(o._dbInfo.storeName),y=m.clear();h.oncomplete=function(){u()},h.onabort=h.onerror=function(){var b=y.error?y.error:y.transaction.error;f(b)}}catch(b){f(b)}})}).catch(f)});return g(t,e),t}function on(e){var o=this,t=new d(function(u,f){o.ready().then(function(){ee(o._dbInfo,K,function(i,h){if(i)return f(i);try{var m=h.objectStore(o._dbInfo.storeName),y=m.count();y.onsuccess=function(){u(y.result)},y.onerror=function(){f(y.error)}}catch(b){f(b)}})}).catch(f)});return g(t,e),t}function an(e,o){var t=this,u=new d(function(f,i){if(e<0){f(null);return}t.ready().then(function(){ee(t._dbInfo,K,function(h,m){if(h)return i(h);try{var y=m.objectStore(t._dbInfo.storeName),b=!1,w=y.openKeyCursor();w.onsuccess=function(){var T=w.result;if(!T){f(null);return}e===0||b?f(T.key):(b=!0,T.advance(e))},w.onerror=function(){i(w.error)}}catch(T){i(T)}})}).catch(i)});return g(u,o),u}function un(e){var o=this,t=new d(function(u,f){o.ready().then(function(){ee(o._dbInfo,K,function(i,h){if(i)return f(i);try{var m=h.objectStore(o._dbInfo.storeName),y=m.openKeyCursor(),b=[];y.onsuccess=function(){var w=y.result;if(!w){u(b);return}b.push(w.key),w.continue()},y.onerror=function(){f(y.error)}}catch(w){f(w)}})}).catch(f)});return g(t,e),t}function fn(e,o){o=D.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var u=this,f;if(!e.name)f=d.reject("Invalid arguments");else{var i=e.name===t.name&&u._dbInfo.db,h=i?d.resolve(u._dbInfo.db):Z(e).then(function(m){var y=x[e.name],b=y.forages;y.db=m;for(var w=0;w<b.length;w++)b[w]._dbInfo.db=m;return m});e.storeName?f=h.then(function(m){if(m.objectStoreNames.contains(e.storeName)){var y=m.version+1;R(e);var b=x[e.name],w=b.forages;m.close();for(var T=0;T<w.length;T++){var L=w[T];L._dbInfo.db=null,L._dbInfo.version=y}var F=new d(function(M,V){var Y=_.open(e.name,y);Y.onerror=function(H){var ye=Y.result;ye.close(),V(H)},Y.onupgradeneeded=function(){var H=Y.result;H.deleteObjectStore(e.storeName)},Y.onsuccess=function(){var H=Y.result;H.close(),M(H)}});return F.then(function(M){b.db=M;for(var V=0;V<w.length;V++){var Y=w[V];Y._dbInfo.db=M,N(Y._dbInfo)}}).catch(function(M){throw(U(e,M)||d.resolve()).catch(function(){}),M})}}):f=h.then(function(m){R(e);var y=x[e.name],b=y.forages;m.close();for(var w=0;w<b.length;w++){var T=b[w];T._dbInfo.db=null}var L=new d(function(F,M){var V=_.deleteDatabase(e.name);V.onerror=function(){var Y=V.result;Y&&Y.close(),M(V.error)},V.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},V.onsuccess=function(){var Y=V.result;Y&&Y.close(),F(Y)}});return L.then(function(F){y.db=F;for(var M=0;M<b.length;M++){var V=b[M];N(V._dbInfo)}}).catch(function(F){throw(U(e,F)||d.resolve()).catch(function(){}),F})})}return g(f,o),f}var sn={_driver:"asyncStorage",_initStorage:Jt,_support:I(),iterate:en,getItem:Zt,setItem:tn,removeItem:nn,clear:rn,length:on,key:an,keys:un,dropInstance:fn};function cn(){return typeof openDatabase=="function"}var ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ln="~~local_forage_type~",dt=/^~~local_forage_type~([^~]+)~/,Ae="__lfsc__:",Ue=Ae.length,ke="arbf",ze="blob",ht="si08",vt="ui08",pt="uic8",mt="si16",gt="si32",_t="ur16",yt="ui32",bt="fl32",wt="fl64",Et=Ue+ke.length,St=Object.prototype.toString;function It(e){var o=e.length*.75,t=e.length,u,f=0,i,h,m,y;e[e.length-1]==="="&&(o--,e[e.length-2]==="="&&o--);var b=new ArrayBuffer(o),w=new Uint8Array(b);for(u=0;u<t;u+=4)i=ne.indexOf(e[u]),h=ne.indexOf(e[u+1]),m=ne.indexOf(e[u+2]),y=ne.indexOf(e[u+3]),w[f++]=i<<2|h>>4,w[f++]=(h&15)<<4|m>>2,w[f++]=(m&3)<<6|y&63;return b}function Ye(e){var o=new Uint8Array(e),t="",u;for(u=0;u<o.length;u+=3)t+=ne[o[u]>>2],t+=ne[(o[u]&3)<<4|o[u+1]>>4],t+=ne[(o[u+1]&15)<<2|o[u+2]>>6],t+=ne[o[u+2]&63];return o.length%3===2?t=t.substring(0,t.length-1)+"=":o.length%3===1&&(t=t.substring(0,t.length-2)+"=="),t}function dn(e,o){var t="";if(e&&(t=St.call(e)),e&&(t==="[object ArrayBuffer]"||e.buffer&&St.call(e.buffer)==="[object ArrayBuffer]")){var u,f=Ae;e instanceof ArrayBuffer?(u=e,f+=ke):(u=e.buffer,t==="[object Int8Array]"?f+=ht:t==="[object Uint8Array]"?f+=vt:t==="[object Uint8ClampedArray]"?f+=pt:t==="[object Int16Array]"?f+=mt:t==="[object Uint16Array]"?f+=_t:t==="[object Int32Array]"?f+=gt:t==="[object Uint32Array]"?f+=yt:t==="[object Float32Array]"?f+=bt:t==="[object Float64Array]"?f+=wt:o(new Error("Failed to get type for BinaryArray"))),o(f+Ye(u))}else if(t==="[object Blob]"){var i=new FileReader;i.onload=function(){var h=ln+e.type+"~"+Ye(this.result);o(Ae+ze+h)},i.readAsArrayBuffer(e)}else try{o(JSON.stringify(e))}catch(h){console.error("Couldn't convert value into a JSON string: ",e),o(null,h)}}function hn(e){if(e.substring(0,Ue)!==Ae)return JSON.parse(e);var o=e.substring(Et),t=e.substring(Ue,Et),u;if(t===ze&&dt.test(o)){var f=o.match(dt);u=f[1],o=o.substring(f[0].length)}var i=It(o);switch(t){case ke:return i;case ze:return O([i],{type:u});case ht:return new Int8Array(i);case vt:return new Uint8Array(i);case pt:return new Uint8ClampedArray(i);case mt:return new Int16Array(i);case _t:return new Uint16Array(i);case gt:return new Int32Array(i);case yt:return new Uint32Array(i);case bt:return new Float32Array(i);case wt:return new Float64Array(i);default:throw new Error("Unkown type: "+t)}}var We={serialize:dn,deserialize:hn,stringToBuffer:It,bufferToString:Ye};function $t(e,o,t,u){e.executeSql("CREATE TABLE IF NOT EXISTS "+o.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],t,u)}function vn(e){var o=this,t={db:null};if(e)for(var u in e)t[u]=typeof e[u]!="string"?e[u].toString():e[u];var f=new d(function(i,h){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(m){return h(m)}t.db.transaction(function(m){$t(m,t,function(){o._dbInfo=t,i()},function(y,b){h(b)})},h)});return t.serializer=We,f}function re(e,o,t,u,f,i){e.executeSql(t,u,f,function(h,m){m.code===m.SYNTAX_ERR?h.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[o.storeName],function(y,b){b.rows.length?i(y,m):$t(y,o,function(){y.executeSql(t,u,f,i)},i)},i):i(h,m)},i)}function pn(e,o){var t=this;e=E(e);var u=new d(function(f,i){t.ready().then(function(){var h=t._dbInfo;h.db.transaction(function(m){re(m,h,"SELECT * FROM "+h.storeName+" WHERE key = ? LIMIT 1",[e],function(y,b){var w=b.rows.length?b.rows.item(0).value:null;w&&(w=h.serializer.deserialize(w)),f(w)},function(y,b){i(b)})})}).catch(i)});return g(u,o),u}function mn(e,o){var t=this,u=new d(function(f,i){t.ready().then(function(){var h=t._dbInfo;h.db.transaction(function(m){re(m,h,"SELECT * FROM "+h.storeName,[],function(y,b){for(var w=b.rows,T=w.length,L=0;L<T;L++){var F=w.item(L),M=F.value;if(M&&(M=h.serializer.deserialize(M)),M=e(M,F.key,L+1),M!==void 0){f(M);return}}f()},function(y,b){i(b)})})}).catch(i)});return g(u,o),u}function At(e,o,t,u){var f=this;e=E(e);var i=new d(function(h,m){f.ready().then(function(){o===void 0&&(o=null);var y=o,b=f._dbInfo;b.serializer.serialize(o,function(w,T){T?m(T):b.db.transaction(function(L){re(L,b,"INSERT OR REPLACE INTO "+b.storeName+" (key, value) VALUES (?, ?)",[e,w],function(){h(y)},function(F,M){m(M)})},function(L){if(L.code===L.QUOTA_ERR){if(u>0){h(At.apply(f,[e,y,t,u-1]));return}m(L)}})})}).catch(m)});return g(i,t),i}function gn(e,o,t){return At.apply(this,[e,o,t,1])}function _n(e,o){var t=this;e=E(e);var u=new d(function(f,i){t.ready().then(function(){var h=t._dbInfo;h.db.transaction(function(m){re(m,h,"DELETE FROM "+h.storeName+" WHERE key = ?",[e],function(){f()},function(y,b){i(b)})})}).catch(i)});return g(u,o),u}function yn(e){var o=this,t=new d(function(u,f){o.ready().then(function(){var i=o._dbInfo;i.db.transaction(function(h){re(h,i,"DELETE FROM "+i.storeName,[],function(){u()},function(m,y){f(y)})})}).catch(f)});return g(t,e),t}function bn(e){var o=this,t=new d(function(u,f){o.ready().then(function(){var i=o._dbInfo;i.db.transaction(function(h){re(h,i,"SELECT COUNT(key) as c FROM "+i.storeName,[],function(m,y){var b=y.rows.item(0).c;u(b)},function(m,y){f(y)})})}).catch(f)});return g(t,e),t}function wn(e,o){var t=this,u=new d(function(f,i){t.ready().then(function(){var h=t._dbInfo;h.db.transaction(function(m){re(m,h,"SELECT key FROM "+h.storeName+" WHERE id = ? LIMIT 1",[e+1],function(y,b){var w=b.rows.length?b.rows.item(0).key:null;f(w)},function(y,b){i(b)})})}).catch(i)});return g(u,o),u}function En(e){var o=this,t=new d(function(u,f){o.ready().then(function(){var i=o._dbInfo;i.db.transaction(function(h){re(h,i,"SELECT key FROM "+i.storeName,[],function(m,y){for(var b=[],w=0;w<y.rows.length;w++)b.push(y.rows.item(w).key);u(b)},function(m,y){f(y)})})}).catch(f)});return g(t,e),t}function Sn(e){return new d(function(o,t){e.transaction(function(u){u.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(f,i){for(var h=[],m=0;m<i.rows.length;m++)h.push(i.rows.item(m).name);o({db:e,storeNames:h})},function(f,i){t(i)})},function(u){t(u)})})}function In(e,o){o=D.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var u=this,f;return e.name?f=new d(function(i){var h;e.name===t.name?h=u._dbInfo.db:h=openDatabase(e.name,"","",0),e.storeName?i({db:h,storeNames:[e.storeName]}):i(Sn(h))}).then(function(i){return new d(function(h,m){i.db.transaction(function(y){function b(F){return new d(function(M,V){y.executeSql("DROP TABLE IF EXISTS "+F,[],function(){M()},function(Y,H){V(H)})})}for(var w=[],T=0,L=i.storeNames.length;T<L;T++)w.push(b(i.storeNames[T]));d.all(w).then(function(){h()}).catch(function(F){m(F)})},function(y){m(y)})})}):f=d.reject("Invalid arguments"),g(f,o),f}var $n={_driver:"webSQLStorage",_initStorage:vn,_support:cn(),iterate:mn,getItem:pn,setItem:gn,removeItem:_n,clear:yn,length:bn,key:wn,keys:En,dropInstance:In};function An(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Rt(e,o){var t=e.name+"/";return e.storeName!==o.storeName&&(t+=e.storeName+"/"),t}function Rn(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function Tn(){return!Rn()||localStorage.length>0}function Nn(e){var o=this,t={};if(e)for(var u in e)t[u]=e[u];return t.keyPrefix=Rt(e,o._defaultConfig),Tn()?(o._dbInfo=t,t.serializer=We,d.resolve()):d.reject()}function Cn(e){var o=this,t=o.ready().then(function(){for(var u=o._dbInfo.keyPrefix,f=localStorage.length-1;f>=0;f--){var i=localStorage.key(f);i.indexOf(u)===0&&localStorage.removeItem(i)}});return g(t,e),t}function Dn(e,o){var t=this;e=E(e);var u=t.ready().then(function(){var f=t._dbInfo,i=localStorage.getItem(f.keyPrefix+e);return i&&(i=f.serializer.deserialize(i)),i});return g(u,o),u}function xn(e,o){var t=this,u=t.ready().then(function(){for(var f=t._dbInfo,i=f.keyPrefix,h=i.length,m=localStorage.length,y=1,b=0;b<m;b++){var w=localStorage.key(b);if(w.indexOf(i)===0){var T=localStorage.getItem(w);if(T&&(T=f.serializer.deserialize(T)),T=e(T,w.substring(h),y++),T!==void 0)return T}}});return g(u,o),u}function On(e,o){var t=this,u=t.ready().then(function(){var f=t._dbInfo,i;try{i=localStorage.key(e)}catch{i=null}return i&&(i=i.substring(f.keyPrefix.length)),i});return g(u,o),u}function Bn(e){var o=this,t=o.ready().then(function(){for(var u=o._dbInfo,f=localStorage.length,i=[],h=0;h<f;h++){var m=localStorage.key(h);m.indexOf(u.keyPrefix)===0&&i.push(m.substring(u.keyPrefix.length))}return i});return g(t,e),t}function Ln(e){var o=this,t=o.keys().then(function(u){return u.length});return g(t,e),t}function Pn(e,o){var t=this;e=E(e);var u=t.ready().then(function(){var f=t._dbInfo;localStorage.removeItem(f.keyPrefix+e)});return g(u,o),u}function Fn(e,o,t){var u=this;e=E(e);var f=u.ready().then(function(){o===void 0&&(o=null);var i=o;return new d(function(h,m){var y=u._dbInfo;y.serializer.serialize(o,function(b,w){if(w)m(w);else try{localStorage.setItem(y.keyPrefix+e,b),h(i)}catch(T){(T.name==="QuotaExceededError"||T.name==="NS_ERROR_DOM_QUOTA_REACHED")&&m(T),m(T)}})})});return g(f,t),f}function Mn(e,o){if(o=D.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}var u=this,f;return e.name?f=new d(function(i){e.storeName?i(Rt(e,u._defaultConfig)):i(e.name+"/")}).then(function(i){for(var h=localStorage.length-1;h>=0;h--){var m=localStorage.key(h);m.indexOf(i)===0&&localStorage.removeItem(m)}}):f=d.reject("Invalid arguments"),g(f,o),f}var Un={_driver:"localStorageWrapper",_initStorage:Nn,_support:An(),iterate:xn,getItem:Dn,setItem:Fn,removeItem:Pn,clear:Cn,length:Ln,key:On,keys:Bn,dropInstance:Mn},kn=function(o,t){return o===t||typeof o=="number"&&typeof t=="number"&&isNaN(o)&&isNaN(t)},zn=function(o,t){for(var u=o.length,f=0;f<u;){if(kn(o[f],t))return!0;f++}return!1},Tt=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},_e={},Nt={},ce={INDEXEDDB:sn,WEBSQL:$n,LOCALSTORAGE:Un},Yn=[ce.INDEXEDDB._driver,ce.WEBSQL._driver,ce.LOCALSTORAGE._driver],Re=["dropInstance"],Ve=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Re),Wn={description:"",driver:Yn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Vn(e,o){e[o]=function(){var t=arguments;return e.ready().then(function(){return e[o].apply(e,t)})}}function je(){for(var e=1;e<arguments.length;e++){var o=arguments[e];if(o)for(var t in o)o.hasOwnProperty(t)&&(Tt(o[t])?arguments[0][t]=o[t].slice():arguments[0][t]=o[t])}return arguments[0]}var jn=function(){function e(o){l(this,e);for(var t in ce)if(ce.hasOwnProperty(t)){var u=ce[t],f=u._driver;this[t]=f,_e[f]||this.defineDriver(u)}this._defaultConfig=je({},Wn),this._config=je({},this._defaultConfig,o),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(t){if((typeof t>"u"?"undefined":c(t))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var u in t){if(u==="storeName"&&(t[u]=t[u].replace(/\W/g,"_")),u==="version"&&typeof t[u]!="number")return new Error("Database version must be a number.");this._config[u]=t[u]}return"driver"in t&&t.driver?this.setDriver(this._config.driver):!0}else return typeof t=="string"?this._config[t]:this._config},e.prototype.defineDriver=function(t,u,f){var i=new d(function(h,m){try{var y=t._driver,b=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver){m(b);return}for(var w=Ve.concat("_initStorage"),T=0,L=w.length;T<L;T++){var F=w[T],M=!zn(Re,F);if((M||t[F])&&typeof t[F]!="function"){m(b);return}}var V=function(){for(var ye=function(Gn){return function(){var Hn=new Error("Method "+Gn+" is not implemented by the current driver"),Ct=d.reject(Hn);return g(Ct,arguments[arguments.length-1]),Ct}},Ke=0,Qn=Re.length;Ke<Qn;Ke++){var Qe=Re[Ke];t[Qe]||(t[Qe]=ye(Qe))}};V();var Y=function(ye){_e[y]&&console.info("Redefining LocalForage driver: "+y),_e[y]=t,Nt[y]=ye,h()};"_support"in t?t._support&&typeof t._support=="function"?t._support().then(Y,m):Y(!!t._support):Y(!0)}catch(H){m(H)}});return $(i,u,f),i},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(t,u,f){var i=_e[t]?d.resolve(_e[t]):d.reject(new Error("Driver not found."));return $(i,u,f),i},e.prototype.getSerializer=function(t){var u=d.resolve(We);return $(u,t),u},e.prototype.ready=function(t){var u=this,f=u._driverSet.then(function(){return u._ready===null&&(u._ready=u._initDriver()),u._ready});return $(f,t,t),f},e.prototype.setDriver=function(t,u,f){var i=this;Tt(t)||(t=[t]);var h=this._getSupportedDrivers(t);function m(){i._config.driver=i.driver()}function y(T){return i._extend(T),m(),i._ready=i._initStorage(i._config),i._ready}function b(T){return function(){var L=0;function F(){for(;L<T.length;){var M=T[L];return L++,i._dbInfo=null,i._ready=null,i.getDriver(M).then(y).catch(F)}m();var V=new Error("No available storage method found.");return i._driverSet=d.reject(V),i._driverSet}return F()}}var w=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=w.then(function(){var T=h[0];return i._dbInfo=null,i._ready=null,i.getDriver(T).then(function(L){i._driver=L._driver,m(),i._wrapLibraryMethodsWithReady(),i._initDriver=b(h)})}).catch(function(){m();var T=new Error("No available storage method found.");return i._driverSet=d.reject(T),i._driverSet}),$(this._driverSet,u,f),this._driverSet},e.prototype.supports=function(t){return!!Nt[t]},e.prototype._extend=function(t){je(this,t)},e.prototype._getSupportedDrivers=function(t){for(var u=[],f=0,i=t.length;f<i;f++){var h=t[f];this.supports(h)&&u.push(h)}return u},e.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,u=Ve.length;t<u;t++)Vn(this,Ve[t])},e.prototype.createInstance=function(t){return new e(t)},e}(),Kn=new jn;s.exports=Kn},{3:3}]},{},[4])(4)})})(Gt);var ue=Gt.exports;const Ar=ue.ready(),ft=Qt([]),Rr="compareStuff/",Ie=`${Rr}entries`;async function st(){return await Ar,await ue.getItem(Ie)??[]}st().then(n=>ft.set(n));function Ht(n){ft.set(n),ue.setItem(Ie,n)}async function Tr(n,r){const a=await st();var s=a.find(v=>v.id===n);s.label=r,Ht(a)}async function Nr(n){return await ue.ready(),await ue.getItem(Ie+"/"+n)}async function Cr(n,r){ue.setItem(Ie+"/"+n,r)}async function Dr(n,r){const a=await st();a.push(n),Ht(a),ue.setItem(Ie+"/"+n.id,r)}function Mt(n,r,a){const s=n.slice();return s[8]=r[a],s}function Ut(n){let r,a=n[8].label+"",s,v,c,l;function p(){return n[5](n[8])}return{c(){r=W("li"),s=Pe(a),v=q()},m(_,I){ie(_,r,I),k(r,s),k(r,v),c||(l=we(r,"click",p),c=!0)},p(_,I){n=_,I&2&&a!==(a=n[8].label+"")&&nr(s,a)},d(_){_&&te(r),c=!1,l()}}}function kt(n){let r,a,s,v,c,l;return s=new Fe({props:{data:n[0].label}}),s.$on("update",n[6]),c=new Ir({props:{tableContextState:n[2]}}),{c(){r=W("div"),a=W("h2"),Se(s.$$.fragment),v=q(),Se(c.$$.fragment)},m(p,_){ie(p,r,_),k(r,a),pe(s,a,null),k(r,v),pe(c,r,null),l=!0},p(p,_){const I={};_&1&&(I.data=p[0].label),s.$set(I)},i(p){l||(Q(s.$$.fragment,p),Q(c.$$.fragment,p),l=!0)},o(p){X(s.$$.fragment,p),X(c.$$.fragment,p),l=!1},d(p){p&&te(r),me(s),me(c)}}}function xr(n){let r,a,s,v,c,l,p,_,I,O,d,g,$=oe(n[1]),E=[];for(let C=0;C<$.length;C+=1)E[C]=Ut(Mt(n,$,C));let D=n[0]&&kt(n);return{c(){r=W("main"),a=W("div"),s=Pe("Sidebar "),v=W("br"),c=q(),l=W("ul");for(let C=0;C<E.length;C+=1)E[C].c();p=q(),_=W("button"),_.textContent="Add new",I=q(),D&&D.c()},m(C,z){ie(C,r,z),k(r,a),k(a,s),k(a,v),k(a,c),k(a,l);for(let x=0;x<E.length;x+=1)E[x]&&E[x].m(l,null);k(a,p),k(a,_),k(r,I),D&&D.m(r,null),O=!0,d||(g=we(_,"click",n[4]),d=!0)},p(C,[z]){if(z&10){$=oe(C[1]);let x;for(x=0;x<$.length;x+=1){const j=Mt(C,$,x);E[x]?E[x].p(j,z):(E[x]=Ut(j),E[x].c(),E[x].m(l,null))}for(;x<E.length;x+=1)E[x].d(1);E.length=$.length}C[0]?D?(D.p(C,z),z&1&&Q(D,1)):(D=kt(C),D.c(),Q(D,1),D.m(r,null)):D&&(De(),X(D,1,1,()=>{D=null}),xe())},i(C){O||(Q(D),O=!0)},o(C){X(D),O=!1},d(C){C&&te(r),er(E,C),D&&D.d(),d=!1,g()}}}function Or(n,r,a){let s;Zn(n,ft,d=>a(1,s=d));let v=null,c=!1;const l=$r();async function p(d){a(0,v=d),c=!0;const g=await Nr(d.id);l.set(g),c=!1}async function _(){const d={id:rt(),label:"New Comparison",version:1};await Dr(d,{cells:{},rows:[],columns:[]}),p(d)}return l.subscribe(d=>{c||!v||Cr(v.id,d)}),[v,s,l,p,_,d=>p(d),d=>{Tr(v.id,d.detail)}]}class Br extends it{constructor(r){super(),ot(this,r,Or,xr,Le,{})}}new Br({target:document.getElementById("app")});
